{"version":3,"file":"detail.js","sources":["pages/user/detail.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9kZXRhaWwudnVl"],"sourcesContent":["<!--\r\n * @description 求职者详情页面\r\n -->\r\n<template>\r\n\t<view class=\"detail-container\">\r\n\t\t<!-- 基本信息卡片 -->\r\n\t\t<view class=\"info-card\">\r\n\t\t\t<view class=\"user-header\">\r\n\t\t\t\t<text class=\"user-name\">{{ userInfo.name }}</text>\r\n\t\t\t\t<text class=\"user-age\" v-if=\"userInfo.age\">{{ userInfo.age }}岁</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"user-tags\">\r\n\t\t\t\t<text class=\"tag\" v-if=\"userInfo.education\">{{ userInfo.education }}</text>\r\n\t\t\t\t<text class=\"tag\" v-if=\"userInfo.experience\">{{ userInfo.experience }}</text>\r\n\t\t\t\t<text class=\"tag\" v-if=\"userInfo.location\">{{ userInfo.location }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"contact-info\" v-if=\"userInfo.phone\">\r\n\t\t\t\t<text class=\"section-title\">联系方式</text>\r\n\t\t\t\t<text class=\"phone\">{{ userInfo.phone }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 求职意向 -->\r\n\t\t<view class=\"intention-card\" v-if=\"userInfo.jobIntention\">\r\n\t\t\t<text class=\"section-title\">求职意向</text>\r\n\t\t\t<view class=\"intention-content\">\r\n\t\t\t\t<view class=\"intention-item\" v-if=\"userInfo.jobIntention.position\">\r\n\t\t\t\t\t<text class=\"item-label\">期望职位：</text>\r\n\t\t\t\t\t<text class=\"item-value\">{{ userInfo.jobIntention.position }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"intention-item\" v-if=\"userInfo.jobIntention.salary\">\r\n\t\t\t\t\t<text class=\"item-label\">期望薪资：</text>\r\n\t\t\t\t\t<text class=\"item-value\">{{ userInfo.jobIntention.salary }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"intention-item\" v-if=\"userInfo.jobIntention.location\">\r\n\t\t\t\t\t<text class=\"item-label\">期望地点：</text>\r\n\t\t\t\t\t<text class=\"item-value\">{{ userInfo.jobIntention.location }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"intention-item\" v-if=\"userInfo.jobIntention.industry\">\r\n\t\t\t\t\t<text class=\"item-label\">期望行业：</text>\r\n\t\t\t\t\t<text class=\"item-value\">{{ userInfo.jobIntention.industry }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 工作经历 -->\r\n\t\t<view class=\"experience-card\" v-if=\"userInfo.workExperience && userInfo.workExperience.length\">\r\n\t\t\t<text class=\"section-title\">工作经历</text>\r\n\t\t\t<view \r\n\t\t\t\tclass=\"experience-item\" \r\n\t\t\t\tv-for=\"(exp, index) in userInfo.workExperience\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"exp-header\">\r\n\t\t\t\t\t<text class=\"company-name\">{{ exp.company }}</text>\r\n\t\t\t\t\t<text class=\"exp-time\">{{ exp.startTime }} - {{ exp.endTime }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"position\">{{ exp.position }}</text>\r\n\t\t\t\t<text class=\"exp-desc\">{{ exp.description }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 操作按钮 -->\r\n\t\t<view class=\"action-bar\" v-if=\"isEmployer\">\r\n\t\t\t<button class=\"primary-btn\" @click=\"handleInvite\">发送面试邀请</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserId: '',\r\n\t\t\tuserInfo: {},\r\n\t\t\tisEmployer: false\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthis.userId = options.id\r\n\t\tthis.loadUserInfo()\r\n\t\tthis.checkUserRole()\r\n\t},\r\n\tmethods: {\r\n\t\tasync loadUserInfo() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getUserDetail',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserId: this.userId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tthis.userInfo = result.result.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync checkUserRole() {\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getCurrentUser'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tthis.isEmployer = result.result.data.role === 'employer'\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync handleInvite() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '处理中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'messageCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'sendInvitation',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserId: this.userId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '邀请已发送',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '操作失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.detail-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f8f8f8;\r\n\tpadding: 30rpx;\r\n}\r\n\r\n.info-card, .intention-card, .experience-card {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.user-header {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.user-name {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.user-age {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.user-tags {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.tag {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding: 8rpx 20rpx;\r\n\tborder-radius: 24rpx;\r\n\tmargin-right: 16rpx;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.contact-info {\r\n\tborder-top: 2rpx solid #f5f5f5;\r\n\tpadding-top: 30rpx;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.phone {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.intention-content {\r\n\tmargin-top: 20rpx;\r\n}\r\n\r\n.intention-item {\r\n\tdisplay: flex;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.item-label {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\twidth: 160rpx;\r\n}\r\n\r\n.item-value {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n\tflex: 1;\r\n}\r\n\r\n.experience-item {\r\n\tpadding: 30rpx 0;\r\n\tborder-bottom: 2rpx solid #f5f5f5;\r\n}\r\n\r\n.experience-item:last-child {\r\n\tborder-bottom: none;\r\n\tpadding-bottom: 0;\r\n}\r\n\r\n.exp-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.company-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.exp-time {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.position {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-bottom: 16rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.exp-desc {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.action-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #fff;\r\n\tpadding: 20rpx 30rpx;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.primary-btn {\r\n\tbackground-color: #007AFF;\r\n\tcolor: #fff;\r\n\tborder-radius: 10rpx;\r\n\tfont-size: 32rpx;\r\n\tpadding: 20rpx 0;\r\n\ttext-align: center;\r\n\twidth: 100%;\r\n}\r\n\r\n.primary-btn:active {\r\n\topacity: 0.8;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yangmenglianprogram/fifth/RecruitmentSystemforMiddle-agedPeople/pages/user/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AAwEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,QAAQ;AAAA,MACR,UAAU,CAAE;AAAA,MACZ,YAAY;AAAA,IACb;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,SAAK,SAAS,QAAQ;AACtB,SAAK,aAAa;AAClB,SAAK,cAAc;AAAA,EACnB;AAAA,EACD,SAAS;AAAA,IACR,MAAM,eAAe;AACpBA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,OACP;AAED,UAAI;AACH,cAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC1C,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,YACR,MAAM;AAAA,cACL,QAAQ,KAAK;AAAA,YACd;AAAA,UACD;AAAA,SACA;AAED,YAAI,OAAO,OAAO,SAAS,GAAG;AAC7B,eAAK,WAAW,OAAO,OAAO;AAAA,eACxB;AACND,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,OAAO,OAAO;AAAA,YACrB,MAAM;AAAA,WACN;AAAA,QACF;AAAA,MACD,SAAS,GAAG;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACTA,sBAAAA,MAAI,YAAY;AAAA,MACjB;AAAA,IACA;AAAA,IAED,MAAM,gBAAgB;AACrB,UAAI;AACH,cAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC1C,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,UACT;AAAA,SACA;AAED,YAAI,OAAO,OAAO,SAAS,GAAG;AAC7B,eAAK,aAAa,OAAO,OAAO,KAAK,SAAS;AAAA,QAC/C;AAAA,MACD,SAAS,GAAG;AACXD,sBAAAA,MAAc,MAAA,SAAA,gCAAA,CAAC;AAAA,MAChB;AAAA,IACA;AAAA,IAED,MAAM,eAAe;AACpBA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,OACP;AAED,UAAI;AACH,cAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC1C,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,YACR,MAAM;AAAA,cACL,QAAQ,KAAK;AAAA,YACd;AAAA,UACD;AAAA,SACA;AAED,YAAI,OAAO,OAAO,SAAS,GAAG;AAC7BD,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,WACN;AAAA,eACK;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,OAAO,OAAO;AAAA,YACrB,MAAM;AAAA,WACN;AAAA,QACF;AAAA,MACD,SAAS,GAAG;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACTA,sBAAAA,MAAI,YAAY;AAAA,MACjB;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7KA,GAAG,WAAW,eAAe;"}