{"version":3,"file":"detail.js","sources":["pages/user/detail.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9kZXRhaWwudnVl"],"sourcesContent":["<!--\r\n * @description 求职者详情页面\r\n -->\r\n<template>\r\n\t<view class=\"detail-container\">\r\n\t\t<!-- 基本信息卡片 -->\r\n\t\t<view class=\"info-card\">\r\n\t\t\t<view class=\"user-header\">\r\n\t\t\t\t<view class=\"avatar-section\">\r\n\t\t\t\t\t<image v-if=\"userInfo.avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" class=\"avatar\"></image>\r\n\t\t\t\t\t<view v-else class=\"avatar-placeholder\">{{ userInfo.name[0] }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"basic-info\">\r\n\t\t\t\t\t<view class=\"name-age\">\r\n\t\t\t\t\t\t<text class=\"user-name\">{{ userInfo.name }}</text>\r\n\t\t\t\t\t\t<text class=\"user-age\" v-if=\"userInfo.age\">{{ userInfo.age }}岁</text>\r\n\t\t\t\t\t\t<text class=\"gender\" v-if=\"userInfo.gender\">{{ userInfo.gender === 1 ? '男' : '女' }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"user-tags\">\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"userInfo.education\">{{ userInfo.education }}</text>\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"userInfo.workExperience && userInfo.workExperience.length\">{{ userInfo.workExperience.length }}段工作经历</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"contact-info\" v-if=\"userInfo.phone\">\r\n\t\t\t\t<text class=\"section-title\">联系方式</text>\r\n\t\t\t\t<text class=\"phone\">{{ userInfo.phone }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 技能标签 -->\r\n\t\t<view class=\"skills-card\" v-if=\"userInfo.skills && userInfo.skills.length\">\r\n\t\t\t<text class=\"section-title\">技能特长</text>\r\n\t\t\t<view class=\"skills-list\">\r\n\t\t\t\t<text class=\"skill-tag\" v-for=\"(skill, index) in userInfo.skills\" :key=\"index\">{{ skill }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 自我介绍 -->\r\n\t\t<view class=\"intro-card\" v-if=\"userInfo.introduction\">\r\n\t\t\t<text class=\"section-title\">自我介绍</text>\r\n\t\t\t<text class=\"intro-text\">{{ userInfo.introduction }}</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 工作经历 -->\r\n\t\t<view class=\"experience-card\" v-if=\"userInfo.workExperience && userInfo.workExperience.length\">\r\n\t\t\t<text class=\"section-title\">工作经历</text>\r\n\t\t\t<view \r\n\t\t\t\tclass=\"experience-item\" \r\n\t\t\t\tv-for=\"(exp, index) in userInfo.workExperience\" \r\n\t\t\t\t:key=\"index\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"exp-header\">\r\n\t\t\t\t\t<text class=\"company-name\">{{ exp.company }}</text>\r\n\t\t\t\t\t<text class=\"exp-time\">{{ exp.startTime }} - {{ exp.endTime }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"position\">{{ exp.position }}</text>\r\n\t\t\t\t<text class=\"exp-desc\">{{ exp.description }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 操作按钮 -->\r\n\t\t<view class=\"action-bar\" v-if=\"isEmployer\">\r\n\t\t\t<button class=\"primary-btn\" @click=\"handleInvite\">发送面试邀请</button>\r\n\t\t\t<button class=\"secondary-btn\" @click=\"handleMessage\">发送消息</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserId: '',\r\n\t\t\tuserInfo: {},\r\n\t\t\tisEmployer: false\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthis.userId = options.id\r\n\t\tthis.loadUserInfo()\r\n\t\tthis.checkUserRole()\r\n\t},\r\n\tmethods: {\r\n\t\tasync loadUserInfo() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getUserDetail',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserId: this.userId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tthis.userInfo = result.result.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync checkUserRole() {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log(\"uni.getStorageSync('userInfo')\",uni.getStorageSync('userInfo'))\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getCurrentUser',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserInfo: uni.getStorageSync('userInfo')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(\"result\",result)\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tthis.isEmployer = result.result.data.userType === 2\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync handleInvite() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '处理中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'messageCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'sendInvitation',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserId: this.userId,\r\n\t\t\t\t\t\t\tcompanyId: uni.getStorageSync('userInfo').userId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '邀请已发送',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '操作失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync handleMessage() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '处理中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'messageCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'sendMessage',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\treceiverId: this.userId,\r\n\t\t\t\t\t\t\tsenderId: uni.getStorageSync('userInfo').userId,\r\n\t\t\t\t\t\t\ttype: 5,\r\n\t\t\t\t\t\t\ttitle: '来自企业的消息',\r\n\t\t\t\t\t\t\tisRead: false,\r\n\t\t\t\t\t\t\tcontent: `您好，我是来自${uni.getStorageSync('userInfo').name}的HR，我对您的简历很感兴趣，想进一步了解一下,请您联系我，我的联系方式是：${uni.getStorageSync('userInfo').phone}。`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '消息已发送',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '操作失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.detail-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f8f8f8;\r\n\tpadding: 30rpx;\r\n}\r\n\r\n.info-card, .skills-card, .intro-card, .experience-card {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.user-header {\r\n\tdisplay: flex;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.avatar-section {\r\n\tmargin-right: 30rpx;\r\n}\r\n\r\n.avatar, .avatar-placeholder {\r\n\twidth: 120rpx;\r\n\theight: 120rpx;\r\n\tborder-radius: 60rpx;\r\n}\r\n\r\n.avatar-placeholder {\r\n\tbackground-color: #007AFF;\r\n\tcolor: #fff;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 48rpx;\r\n}\r\n\r\n.basic-info {\r\n\tflex: 1;\r\n}\r\n\r\n.name-age {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.user-name {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.user-age, .gender {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.user-tags {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.tag {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding: 8rpx 20rpx;\r\n\tborder-radius: 24rpx;\r\n\tmargin-right: 16rpx;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.contact-info {\r\n\tborder-top: 2rpx solid #f5f5f5;\r\n\tpadding-top: 30rpx;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.phone {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.skills-list {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.skill-tag {\r\n\tfont-size: 26rpx;\r\n\tcolor: #007AFF;\r\n\tbackground-color: rgba(0, 122, 255, 0.1);\r\n\tpadding: 10rpx 30rpx;\r\n\tborder-radius: 30rpx;\r\n}\r\n\r\n.intro-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.experience-item {\r\n\tpadding: 30rpx 0;\r\n\tborder-bottom: 2rpx solid #f5f5f5;\r\n}\r\n\r\n.experience-item:last-child {\r\n\tborder-bottom: none;\r\n\tpadding-bottom: 0;\r\n}\r\n\r\n.exp-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.company-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.exp-time {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.position {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-bottom: 16rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.exp-desc {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.action-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tpadding: 20rpx 30rpx;\r\n\tbackground-color: #fff;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\tdisplay: flex;\r\n\tgap: 30rpx;\r\n}\r\n\r\n.primary-btn, .secondary-btn {\r\n\tflex: 1;\r\n\theight: 80rpx;\r\n\tborder-radius: 40rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.primary-btn {\r\n\tbackground-color: #007AFF;\r\n\tcolor: #fff;\r\n}\r\n\r\n.secondary-btn {\r\n\tbackground-color: #f5f5f5;\r\n\tcolor: #333;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yangmenglianprogram/fifth/RecruitmentSystemforMiddle-agedPeople/pages/user/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}