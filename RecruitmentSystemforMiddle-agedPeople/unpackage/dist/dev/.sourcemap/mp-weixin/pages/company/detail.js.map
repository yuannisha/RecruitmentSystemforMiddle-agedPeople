{"version":3,"file":"detail.js","sources":["pages/company/detail.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcGFueS9kZXRhaWwudnVl"],"sourcesContent":["<!--\r\n * @description 公司详情页面\r\n -->\r\n<template>\r\n\t<view class=\"detail-container\">\r\n\t\t<!-- 公司信息卡片 -->\r\n\t\t<view class=\"company-card\">\r\n\t\t\t<view class=\"company-header\">\r\n\t\t\t\t<text class=\"company-name\">{{ companyInfo.name }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"company-tags\">\r\n\t\t\t\t<text class=\"tag\" v-if=\"companyInfo.industry\">{{ companyInfo.industry }}</text>\r\n\t\t\t\t<text class=\"tag\" v-if=\"companyInfo.scale\">{{ companyInfo.scale }}</text>\r\n\t\t\t\t<text class=\"tag\" v-if=\"companyInfo.location\">{{ companyInfo.location }}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"company-desc\" v-if=\"companyInfo.description\">\r\n\t\t\t\t<text class=\"section-title\">公司简介</text>\r\n\t\t\t\t<text class=\"desc-text\">{{ companyInfo.description }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 在招职位 -->\r\n\t\t<view class=\"job-section\">\r\n\t\t\t<view class=\"section-header\">\r\n\t\t\t\t<text class=\"section-title\">在招职位</text>\r\n\t\t\t\t<text class=\"job-count\">({{ jobList.length }}个)</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"job-list\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"job-item\" \r\n\t\t\t\t\tv-for=\"job in jobList\" \r\n\t\t\t\t\t:key=\"job._id\"\r\n\t\t\t\t\t@click=\"goToJobDetail(job._id)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"job-header\">\r\n\t\t\t\t\t\t<text class=\"job-title\">{{ job.title }}</text>\r\n\t\t\t\t\t\t<text class=\"job-salary\">{{ job.salary }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"job-tags\">\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"job.experience\">{{ job.experience }}</text>\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"job.education\">{{ job.education }}</text>\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"job.location\">{{ job.location }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"job-desc\">{{ job.description }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"load-more\" v-if=\"hasMore\" @click=\"loadMore\">\r\n\t\t\t\t<text>加载更多</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-more\" v-else>\r\n\t\t\t\t<text>没有更多了</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcompanyId: '',\r\n\t\t\tcompanyInfo: {},\r\n\t\t\tpage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tjobList: [],\r\n\t\t\thasMore: true\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tthis.companyId = options.id\r\n\t\tthis.loadCompanyInfo()\r\n\t\tthis.loadJobList()\r\n\t},\r\n\tonPullDownRefresh() {\r\n\t\tthis.resetList()\r\n\t},\r\n\tmethods: {\r\n\t\tresetList() {\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.jobList = []\r\n\t\t\tthis.hasMore = true\r\n\t\t\tPromise.all([\r\n\t\t\t\tthis.loadCompanyInfo(),\r\n\t\t\t\tthis.loadJobList()\r\n\t\t\t]).finally(() => {\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\tasync loadCompanyInfo() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getCompanyInfo',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tcompanyId: this.companyId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tthis.companyInfo = result.result.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync loadJobList(loadMore = false) {\r\n\t\t\tif (!loadMore) {\r\n\t\t\t\tthis.page = 1\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'jobCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getCompanyJobList',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tcompanyId: this.companyId,\r\n\t\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\tconst { list, total } = result.result.data\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (loadMore) {\r\n\t\t\t\t\t\tthis.jobList = [...this.jobList, ...list]\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.jobList = list\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.hasMore = this.jobList.length < total\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '加载失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tloadMore() {\r\n\t\t\tif (this.hasMore) {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.loadJobList(true)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tgoToJobDetail(jobId) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/job/detail?id=${jobId}`\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.detail-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f8f8f8;\r\n\tpadding: 30rpx;\r\n}\r\n\r\n.company-card {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.company-header {\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.company-name {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.company-tags {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.tag {\r\n\tfont-size: 24rpx;\r\n\tcolor: #666;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding: 8rpx 20rpx;\r\n\tborder-radius: 24rpx;\r\n\tmargin-right: 16rpx;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.company-desc {\r\n\tborder-top: 2rpx solid #f5f5f5;\r\n\tpadding-top: 30rpx;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.desc-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.job-section {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.section-header {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.job-count {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-left: 10rpx;\r\n}\r\n\r\n.job-list {\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.job-item {\r\n\tpadding: 30rpx;\r\n\tborder-radius: 20rpx;\r\n\tbackground-color: #f8f8f8;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.job-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.job-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.job-salary {\r\n\tfont-size: 32rpx;\r\n\tcolor: #ff6b6b;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.job-desc {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n\tline-height: 1.6;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 2;\r\n\toverflow: hidden;\r\n}\r\n\r\n.load-more, .no-more {\r\n\ttext-align: center;\r\n\tpadding: 30rpx 0;\r\n}\r\n\r\n.load-more text, .no-more text {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yangmenglianprogram/fifth/RecruitmentSystemforMiddle-agedPeople/pages/company/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}