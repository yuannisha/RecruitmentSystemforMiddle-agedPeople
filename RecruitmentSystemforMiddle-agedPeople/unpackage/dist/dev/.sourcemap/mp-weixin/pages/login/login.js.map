{"version":3,"file":"login.js","sources":["pages/login/login.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<!--\r\n * @description 登录页面\r\n -->\r\n<template>\r\n\t<view class=\"login-container\">\r\n\t\t<view class=\"login-header\">\r\n\t\t\t<text class=\"login-title\">欢迎登录</text>\r\n\t\t\t<text class=\"login-subtitle\">中年人招聘平台</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"login-form\">\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<input type=\"text\" v-model=\"phone\" placeholder=\"请输入手机号\" maxlength=\"11\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<input type=\"password\" v-model=\"password\" placeholder=\"请输入密码\" />\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<button class=\"login-btn\" @click=\"handleLogin\">登录</button>\r\n\t\t\t<view class=\"register-link\" @click=\"goToRegister\">还没有账号？立即注册</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tphone: '',\r\n\t\t\tpassword: ''\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync handleLogin() {\r\n\t\t\tif (!this.phone || !this.password) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入手机号和密码',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!/^1\\d{10}$/.test(this.phone)) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '登录中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst result = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'userInformationCenter',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'login',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tphone: this.phone,\r\n\t\t\t\t\t\t\tpassword: this.password\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (result.result.code === 0) {\r\n\t\t\t\t\t// 保存用户信息\r\n\t\t\t\t\tuni.setStorageSync('userInfo', result.result.data)\r\n                    console.log(\"result.result.data\",result.result.data)\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 跳转到首页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 1500)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.result.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '登录失败，请重试',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tgoToRegister() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/register/register'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-container {\r\n\tpadding: 60rpx;\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f8f8f8;\r\n}\r\n\r\n.login-header {\r\n\tmargin-bottom: 80rpx;\r\n\ttext-align: center;\r\n}\r\n\r\n.login-title {\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\tdisplay: block;\r\n}\r\n\r\n.login-subtitle {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.login-form {\r\n\tbackground-color: #fff;\r\n\tpadding: 40rpx;\r\n\tborder-radius: 20rpx;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.form-item {\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.form-item input {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground-color: #f5f5f5;\r\n\tborder-radius: 44rpx;\r\n\tpadding: 0 40rpx;\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.login-btn {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground-color: #007AFF;\r\n\tcolor: #fff;\r\n\tborder-radius: 44rpx;\r\n\tfont-size: 32rpx;\r\n\tmargin-top: 60rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.register-link {\r\n\ttext-align: center;\r\n\tfont-size: 28rpx;\r\n\tcolor: #007AFF;\r\n\tmargin-top: 30rpx;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yangmenglianprogram/fifth/RecruitmentSystemforMiddle-agedPeople/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AAyBA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,MAAM,cAAc;AACnB,UAAI,CAAC,KAAK,SAAS,CAAC,KAAK,UAAU;AAClCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAEA,UAAI,CAAC,YAAY,KAAK,KAAK,KAAK,GAAG;AAClCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAEAA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,OACP;AAED,UAAI;AACH,cAAM,SAAS,MAAMC,cAAQ,GAAC,aAAa;AAAA,UAC1C,MAAM;AAAA,UACN,MAAM;AAAA,YACL,QAAQ;AAAA,YACR,MAAM;AAAA,cACL,OAAO,KAAK;AAAA,cACZ,UAAU,KAAK;AAAA,YAChB;AAAA,UACD;AAAA,SACA;AAED,YAAI,OAAO,OAAO,SAAS,GAAG;AAE7BD,wBAAAA,MAAI,eAAe,YAAY,OAAO,OAAO,IAAI;AAClCA,wBAAA,MAAA,MAAA,OAAA,+BAAY,sBAAqB,OAAO,OAAO,IAAI;AAElEA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,WACN;AAGD,qBAAW,MAAM;AAChBA,0BAAAA,MAAI,UAAU;AAAA,cACb,KAAK;AAAA,aACL;AAAA,UACD,GAAE,IAAI;AAAA,eACD;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,OAAO,OAAO;AAAA,YACrB,MAAM;AAAA,WACN;AAAA,QACF;AAAA,MACD,SAAS,GAAG;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACTA,sBAAAA,MAAI,YAAY;AAAA,MACjB;AAAA,IACA;AAAA,IAED,eAAe;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;ACvGA,GAAG,WAAW,eAAe;"}